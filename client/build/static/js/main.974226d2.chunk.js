(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{489:function(e,a,t){e.exports=t(970)},718:function(e,a,t){},966:function(e,a,t){},970:function(e,a,t){"use strict";t.r(a);t(302),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(325),t(326),t(327),t(490),t(491),t(492),t(493),t(494),t(495),t(496),t(497),t(498),t(331),t(499),t(500),t(184),t(501),t(502),t(503),t(504),t(505),t(506),t(507),t(508),t(509),t(510),t(511),t(512),t(513),t(514),t(515),t(517),t(519),t(520),t(340),t(186),t(521),t(522),t(523),t(524),t(525),t(526),t(527),t(528),t(529),t(530),t(531),t(532),t(533),t(534),t(535),t(536),t(345),t(537),t(538),t(539),t(540),t(541),t(542),t(543),t(544),t(545),t(547),t(548),t(550),t(551),t(552),t(553),t(554),t(555),t(556),t(557),t(558),t(559),t(560),t(561),t(562),t(563),t(564),t(565),t(566),t(567),t(568),t(253),t(570),t(571),t(572),t(573),t(574),t(576),t(577),t(578),t(579),t(580),t(581),t(582),t(583),t(584),t(585),t(586),t(357),t(587),t(588),t(255),t(589),t(590),t(591),t(592),t(194),t(593),t(594),t(595),t(596),t(597),t(598),t(599),t(600),t(601),t(602),t(603),t(604),t(605),t(606),t(607),t(608),t(609),t(610),t(611),t(612),t(613),t(614),t(615),t(616),t(617),t(618),t(620),t(621),t(622),t(623),t(624),t(625),t(626),t(627),t(628),t(629),t(630),t(631),t(632),t(633),t(634),t(635),t(636),t(637),t(638),t(639),t(640),t(641),t(642),t(643),t(644),t(645),t(646),t(647),t(648),t(649),t(650),t(651),t(652),t(260),t(653),t(654),t(655),t(656),t(657),t(658),t(659),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(662),t(663),t(664),t(665),t(666),t(667),t(668),t(669),t(670),t(671),t(672),t(673),t(674),t(675),t(676),t(677),t(679),t(680),t(681),t(682),t(683),t(684),t(685),t(686),t(687),t(688),t(689),t(383),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(401),t(690),t(691),t(692),t(694),t(402),t(403),t(404),t(695),t(696),t(697),t(698),t(699),t(700),t(701),t(702),t(406),t(703),t(704),t(705),t(707),t(408),t(708),t(409);var r=t(0),n=t.n(r),i=t(11),l=t.n(i),s=(t(718),t(106)),c=t(83),o=t.n(c);function m(){return{type:"auth_user",payload:o.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}var d=t(72),u=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function i(i){var l=Object(d.c)((function(e){return e.user})),s=Object(d.b)();return Object(r.useEffect)((function(){s(m()).then((function(e){e.payload.isAuth?(t&&!e.payload.isAdmin||!1===a)&&i.history.push("/"):a&&i.history.push("/login")}))}),[]),n.a.createElement(e,Object.assign({},i,{user:l}))}return i},p=t(29);var h=function(){return n.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h1",{style:{color:"#3e91f7",fontFamily:"Cursive"}}," ",n.a.createElement("b",null,"Sign In "),"OR ",n.a.createElement("b",null),"Sigh Up ",n.a.createElement(p.a,{type:"ShopFilled"})," ")),n.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",margin:"1rem auto"}}))},f=t(174),E=t(230),g=t(46),b=t(972),v=t(971),y=t(976),w=t(974),N=t(300),x=b.a.Title;var O=Object(s.f)((function(e){var a=Object(d.b)(),t=!!localStorage.getItem("rememberMe"),i=Object(r.useState)(""),l=Object(f.a)(i,2),s=l[0],c=l[1],m=Object(r.useState)(t),u=Object(f.a)(m,2),h=u[0],b=u[1],O=function(){b(!h)},S=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):"";return n.a.createElement(E.a,{initialValues:{email:S,password:""},validationSchema:g.object().shape({email:g.string().email("Email is invalid").required("Email is required"),password:g.string().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(t,r){var n=r.setSubmitting;setTimeout((function(){var r={email:t.email,password:t.password};a(function(e){return{type:"login_user",payload:o.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}))}}(r)).then((function(a){a.payload.loginSuccess?(window.localStorage.setItem("userId",a.payload.userId),!0===h?window.localStorage.setItem("rememberMe",t.id):localStorage.removeItem("rememberMe"),e.history.push("/history")):c("Check out your Account or Password again")})).catch((function(e){c("Check out your Account or Password again"),setTimeout((function(){c("")}),3e3)})),n(!1)}),500)}},(function(e){var a=e.values,t=e.touched,r=e.errors,i=(e.dirty,e.isSubmitting),l=e.handleChange,c=e.handleBlur,o=e.handleSubmit;e.handleReset;return n.a.createElement("div",{className:"app"},n.a.createElement(x,{level:2},"Log In"),n.a.createElement("form",{onSubmit:o,style:{width:"350px"}},n.a.createElement(v.a.Item,{required:!0},n.a.createElement(y.a,{id:"email",prefix:n.a.createElement(p.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your email",type:"email",value:a.email,onChange:l,onBlur:c,className:r.email&&t.email?"text-input error":"text-input"}),r.email&&t.email&&n.a.createElement("div",{className:"input-feedback"},r.email)),n.a.createElement(v.a.Item,{required:!0},n.a.createElement(y.a,{id:"password",prefix:n.a.createElement(p.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your password",type:"password",value:a.password,onChange:l,onBlur:c,className:r.password&&t.password?"text-input error":"text-input"}),r.password&&t.password&&n.a.createElement("div",{className:"input-feedback"},r.password)),s&&n.a.createElement("label",null,n.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},s)),n.a.createElement(v.a.Item,null,n.a.createElement(w.a,{id:"rememberMe",onChange:O,checked:h},"Remember me"),n.a.createElement("a",{className:"login-form-forgot",href:"/reset_user",style:{float:"right"}},"forgot password"),n.a.createElement("div",null,n.a.createElement(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:i,onSubmit:o},"Log in")),"Or ",n.a.createElement("a",{href:"/register"},"register now!"))))}))})),S=t(226),I=t(227),C=t(228),k=t(231),j=t(234),B={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},q=function(e){Object(j.a)(t,e);var a=Object(k.a)(t);function t(e){var r;return Object(I.a)(this,t),(r=a.call(this,e)).state={pincode:"",city:"",district:"",state:"",error:""},r}return Object(C.a)(t,[{key:"onChange",value:function(e){var a=this;this.setState(Object(S.a)({},e.target.name,e.target.value)),6===e.target.value.length&&(this.setState({error:""}),o.a.get("https://api.postalpincode.in/pincode/".concat(e.target.value)).then((function(e){return a.setState({state:e.data[0].PostOffice[0].State,city:e.data[0].PostOffice[0].Block,district:e.data[0].PostOffice[0].District})})).then((function(){document.getElementById("pincode").classList.remove("error")})).catch((function(e){document.getElementById("pincode").className="error",a.setState({error:"Invalid PIN Code"})}))),6!==e.target.value.length&&this.setState({city:"",district:"",state:"",error:"ZIP code must be of 6 digits"})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.error?n.a.createElement("span",{className:"error-display"},this.state.error):null,n.a.createElement(v.a,{style:{minWidth:"500px"}},n.a.createElement(v.a.Item,Object.assign({},B,{required:!0,label:"Pin code"}),n.a.createElement(y.a,{name:"pincode",className:"app",onChange:function(a){return e.onChange(a)},id:"pincode",placeholder:"Enter Pincode",maxLength:6,minLength:6,value:this.state.pincode,type:"number"})),n.a.createElement(v.a.Item,Object.assign({},B,{required:!0,label:"City"}),n.a.createElement(y.a,{id:"city",className:"app",type:"String",placeholder:"Enter City ",value:this.state.city})),n.a.createElement(v.a.Item,Object.assign({},B,{required:!0,label:"District"}),n.a.createElement(y.a,{id:"district",type:"String",className:"app",placeholder:"Enter District ",value:this.state.district})),n.a.createElement(v.a.Item,Object.assign({},B,{required:!0,label:"State"}),n.a.createElement(y.a,{id:"state",type:"String",className:"app",placeholder:"Enter State ",value:this.state.state}))))}}]),t}(n.a.Component),P=t(299);P.a.initializeApp({apiKey:"AIzaSyBjeEOE4xoxOSDgFd-RQd3PX3OY-mITp8I",authDomain:"signin-8fadc.firebaseapp.com",projectId:"signin-8fadc",storageBucket:"signin-8fadc.appspot.com",messagingSenderId:"369651029000",appId:"1:369651029000:web:59fbb91325cb3e10dfadbd"});var _=P.a,D={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},F=function(e){Object(j.a)(t,e);var a=Object(k.a)(t);function t(){var e;Object(I.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).handleClick=function(){var e=new _.auth.RecaptchaVerifier("recaptcha"),a=document.getElementById("number").value;_.auth().signInWithPhoneNumber(a,e).then((function(e){var a=prompt("Enter the otp","");null!==a&&e.confirm(a).then((function(e){console.log(e.user),document.querySelector("p").textContent+=e.user.phoneNumber+"Number verified"})).catch((function(e){console.error(e);prompt("wrong otp enter again","")}))})).catch((function(e){console.error(e)}))},e}return Object(C.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(v.a,{style:{minWidth:"500px"}},n.a.createElement("div",{className:"app",id:"recaptcha"}),n.a.createElement(v.a.Item,Object.assign({},D,{required:!0,label:"Mobile Number"}),n.a.createElement(y.a,{classname:"app",id:"number",type:"text",placeholder:"Input with +91"}),n.a.createElement(N.a,{required:!0,onClick:this.handleClick},"Click to Verify"),n.a.createElement("p",null))))}}]),t}(r.Component),L=t(173),A=t.n(L),T={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},M={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var R=function(e){var a=Object(d.b)();return n.a.createElement(E.a,{initialValues:{email:"",lastName:"",middlename:"",firstname:"",password:"",confirmPassword:"",addressline1:"",addressline2:"",dateOfBirth:"",education:"",attachement:""},validationSchema:g.object().shape({firstname:g.string().required("Name is required"),middlename:g.string(),lastName:g.string().required("Last Name is required"),email:g.string().email("Email is invalid").required("Email is required"),password:g.string().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:g.string().oneOf([g.ref("password"),null],"Passwords must match").required("Confirm Password is required"),addressline1:g.string().required("House Number is required"),addressline2:g.string().required("Street is required"),dateOfBirth:g.date().required("DD-MM-YYYY"),education:g.string(),attachement:g.string()}),onSubmit:function(t,r){var n=r.setSubmitting;setTimeout((function(){var r={email:t.email,password:t.password,firstname:t.firstname,lastname:t.lastname,image:"http://gravatar.com/avatar/".concat(A()().unix(),"?d=identicon")};a(function(e){return{type:"register_user",payload:o.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}(r)).then((function(a){a.payload.success?e.history.push("/login"):alert(a.payload.err.errmsg)})),n(!1)}),500)}},(function(e){var a=e.values,t=e.touched,r=e.errors,i=(e.dirty,e.isSubmitting),l=e.handleChange,s=e.handleBlur,c=e.handleSubmit;e.handleReset;return n.a.createElement("div",{className:"app"},n.a.createElement("h2",null,"Sign up"),n.a.createElement(v.a,Object.assign({style:{minWidth:"375px"}},T,{onSubmit:c}),n.a.createElement(v.a.Item,{required:!0,label:"First Name"},n.a.createElement(y.a,{id:"firstname",placeholder:"Enter your first name",type:"text",value:a.firstname,onChange:l,onBlur:s,className:r.firstname&&t.firstname?"text-input error":"text-input"}),r.firstname&&t.firstname&&n.a.createElement("div",{className:"input-feedback"},r.firstname)),n.a.createElement(v.a.Item,{label:"Middle Name"},n.a.createElement(y.a,{id:"middlename",placeholder:"Enter your middle Name",type:"text",value:a.middlename,onChange:l,onBlur:s,className:r.middlename&&t.middlename?"text-input error":"text-input"}),r.middlename&&t.middlename&&n.a.createElement("div",{className:"input-feedback"},r.middlename)),n.a.createElement(v.a.Item,{required:!0,label:"Last Name"},n.a.createElement(y.a,{id:"lastName",placeholder:"Enter your Last Name",type:"text",value:a.lastName,onChange:l,onBlur:s,className:r.lastName&&t.lastName?"text-input error":"text-input"}),r.lastName&&t.lastName&&n.a.createElement("div",{className:"input-feedback"},r.lastName)),n.a.createElement(v.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:r.email&&t.email?"error":"success"},n.a.createElement(y.a,{id:"email",placeholder:"Enter your Email",type:"email",value:a.email,onChange:l,onBlur:s,className:r.email&&t.email?"text-input error":"text-input"}),r.email&&t.email&&n.a.createElement("div",{className:"input-feedback"},r.email)),n.a.createElement(v.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:r.password&&t.password?"error":"success"},n.a.createElement(y.a,{id:"password",placeholder:"Enter your password",type:"password",value:a.password,onChange:l,onBlur:s,className:r.password&&t.password?"text-input error":"text-input"}),r.password&&t.password&&n.a.createElement("div",{className:"input-feedback"},r.password)),n.a.createElement(v.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},n.a.createElement(y.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:a.confirmPassword,onChange:l,onBlur:s,className:r.confirmPassword&&t.confirmPassword?"text-input error":"text-input"}),r.confirmPassword&&t.confirmPassword&&n.a.createElement("div",{className:"input-feedback"},r.confirmPassword)),n.a.createElement(F,null),n.a.createElement(v.a.Item,M,n.a.createElement("div",{id:"recaptcha"})),n.a.createElement(q,null),n.a.createElement(v.a.Item,{required:!0,label:"Address Line 1",hasFeedback:!0,validateStatus:r.addressline1&&t.addressline1?"error":"success"},n.a.createElement(y.a,{id:"addressline1",placeholder:"House Number",type:"text",value:a.addressline1,onChange:l,onBlur:s,className:r.addressline1&&t.addressline1?"text-input error":"text-input"}),r.addressline1&&t.addressline1&&n.a.createElement("div",{className:"input-feedback"},r.addressline1)),n.a.createElement(v.a.Item,{required:!0,label:"Address Line 2",hasFeedback:!0,validateStatus:r.addressline2&&t.addressline2?"error":"success"},n.a.createElement(y.a,{id:"addressline2",placeholder:"Street Name",type:"text",value:a.addressline2,onChange:l,onBlur:s,className:r.addressline2&&t.addressline2?"text-input error":"text-input"}),r.addressline2&&t.addressline2&&n.a.createElement("div",{className:"input-feedback"},r.addressline2)),n.a.createElement(v.a.Item,{required:!0,label:"Date of Birth",hasFeedback:!0,validateStatus:r.dateOfBirth&&t.dateOfBirth?"error":"success"},n.a.createElement(y.a,{id:"dateOfBirth",placeholder:"17-01-1999",type:"text",value:a.dateOfBirth,onChange:l,onBlur:s,className:r.dateOfBirth&&t.dateOfBirth?"text-input error":"text-input"}),r.dateOfBirth&&t.dateOfBirth&&n.a.createElement("div",{className:"input-feedback"},r.dateOfBirth)),n.a.createElement(v.a.Item,{label:"Education",hasFeedback:!0,validateStatus:r.education&&t.education?"error":"success"},n.a.createElement(y.a,{id:"education",placeholder:"For eg :BTech",type:"text",value:a.education,onChange:l,onBlur:s,className:r.education&&t.education?"text-input error":"text-input"}),r.education&&t.education&&n.a.createElement("div",{className:"input-feedback"},r.education)),n.a.createElement(v.a.Item,{label:"Attachement",hasFeedback:!0,validateStatus:r.attachement&&t.attachement?"error":"success"},n.a.createElement(y.a,{id:"attachement",placeholder:"Add a file",type:"file",value:a.attachement,onChange:l,onBlur:s,className:r.attachement&&t.attachement?"text-input error":"text-input"}),r.attachement&&t.attachement&&n.a.createElement("div",{className:"input-feedback"},r.attachement)),n.a.createElement(v.a.Item,M,n.a.createElement(N.a,{onClick:c,type:"primary",disabled:i},"Submit"))))}))},z=t(973);var W=function(e){return n.a.createElement(z.a,{mode:e.mode})};var V=Object(s.f)((function(e){var a=Object(d.c)((function(e){return e.user}));return a.userData&&!a.userData.isAuth?n.a.createElement(z.a,{mode:e.mode},n.a.createElement(z.a.Item,{key:"mail"},n.a.createElement("a",{href:"/login"},"Signin")),n.a.createElement(z.a.Item,{key:"app"},n.a.createElement("a",{href:"/register"},"Signup"))):n.a.createElement(z.a,{mode:e.mode},n.a.createElement(z.a.Item,{key:"logout"},n.a.createElement("a",{onClick:function(){o.a.get("".concat("/api/users","/logout")).then((function(a){200===a.status?e.history.push("/login"):alert("Log Out Failed")}))}},"Logout")))})),Y=t(975);t(966);var X=function(){var e=Object(r.useState)(!1),a=Object(f.a)(e,2),t=a[0],i=a[1];return n.a.createElement("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"}},n.a.createElement("div",{className:"menu__logo"},n.a.createElement("a",{href:"/"},"Project")),n.a.createElement("div",{className:"menu__container"},n.a.createElement("div",{className:"menu_left"},n.a.createElement(W,{mode:"horizontal"})),n.a.createElement("div",{className:"menu_rigth"},n.a.createElement(V,{mode:"horizontal"})),n.a.createElement(N.a,{className:"menu__mobile-button",type:"primary",onClick:function(){i(!0)}},n.a.createElement(p.a,{type:"align-right"})),n.a.createElement(Y.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){i(!1)},visible:t},n.a.createElement(W,{mode:"inline"}),n.a.createElement(V,{mode:"inline"}))))};var H=function(){var e=document.createElement("script");return e.src="https://kit.fontawesome.com/a076d05399.js",e.async=!0,e.crossOrigin="anonymous",document.body.appendChild(e),(new Date).getFullYear(),n.a.createElement("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem"}},n.a.createElement("p",null,"Made with ",n.a.createElement("i",{class:"fas fa-heart",style:{fontSize:"16px",color:"red"}})," by Sachin"))};var U=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Logged In"))};var J=function(){return n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",null,"Loading...")},n.a.createElement(X,null),n.a.createElement("div",{style:{paddingTop:"69px",minHeight:"calc(100vh - 80px)"}},n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:u(h,!1)}),n.a.createElement(s.a,{exact:!0,path:"/login",component:u(O,!1)}),n.a.createElement(s.a,{exact:!0,path:"/register",component:u(R,!1)}),n.a.createElement(s.a,{exact:!0,path:"/history",component:u(U,!0)}))),n.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(169),Q=t(123),Z=t(178),$=Object(Q.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"register_user":return Object(Z.a)({},e,{register:a.payload});case"login_user":return Object(Z.a)({},e,{loginSucces:a.payload});case"auth_user":return Object(Z.a)({},e,{userData:a.payload});case"logout_user":return Object(Z.a)({},e);default:return e}}}),G=t(485),ee=t.n(G),ae=t(486),te=Object(Q.a)(ee.a,ae.a)(Q.d);l.a.render(n.a.createElement(d.a,{store:te($,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},n.a.createElement(K.a,null,n.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[489,1,2]]]);
//# sourceMappingURL=main.974226d2.chunk.js.map